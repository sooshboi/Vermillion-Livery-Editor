<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vermillion M+ Livery Editor</title>

<style>
body{
  margin:0;
  overflow:hidden;
  display:grid;
  grid-template-columns:1fr 360px;
  height:100vh;
  font-family:Segoe UI, sans-serif;
  background:#0f0f0f;
  color:white;
}

.left{
  position:relative;
  background:#1a1a1a;
}

#three-canvas{
  position:absolute;
  inset:0;
}

.right{
  background:#111;
  border-left:1px solid #333;
  display:flex;
  flex-direction:column;
}

.logo-footer{
  margin-top:auto;
  padding:20px;
  text-align:center;
  font-weight:900;
  font-size:2rem;
  background:#0d1a33;
}

.logo-footer span{
  color:#e63946;
}
</style>
</head>

<body>

<div class="left">
  <div id="three-canvas"></div>
</div>

<div class="right">
  <div style="padding:20px;">Vermillion Controls Panel</div>
  <div class="logo-footer">
    V<span>+</span>
  </div>
</div>

<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js';
import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/loaders/GLTFLoader.js';
import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/controls/OrbitControls.js';

/* ======================
   BASIC SCENE SETUP
====================== */

const container = document.getElementById("three-canvas");

const scene = new THREE.Scene();
scene.background = new THREE.Color(0x111111);

const camera = new THREE.PerspectiveCamera(
  60,
  container.clientWidth / container.clientHeight,
  0.1,
  1000
);
camera.position.set(0, 2, 5);

const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(container.clientWidth, container.clientHeight);
renderer.setPixelRatio(window.devicePixelRatio);
container.appendChild(renderer.domElement);

/* ======================
   LIGHTING
====================== */

const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444, 1.2);
hemiLight.position.set(0, 20, 0);
scene.add(hemiLight);

const dirLight = new THREE.DirectionalLight(0xffffff, 1);
dirLight.position.set(5, 10, 7.5);
scene.add(dirLight);

/* ======================
   CONTROLS
====================== */

const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.dampingFactor = 0.05;
controls.target.set(0,1,0);

/* ======================
   LOAD GLB MODEL
====================== */

const loader = new GLTFLoader();

loader.load(
  './CAMAROMODEL/camarounibody.glb',   // <-- make sure this path + filename is correct
  (gltf)=>{
    const car = gltf.scene;
    car.scale.set(1,1,1);
    scene.add(car);
  },
  undefined,
  (error)=>{
    console.error("Error loading model:", error);
  }
);

/* ======================
   RESIZE HANDLER
====================== */

window.addEventListener("resize", ()=>{
  const width = container.clientWidth;
  const height = container.clientHeight;

  camera.aspect = width / height;
  camera.updateProjectionMatrix();
  renderer.setSize(width, height);
});

/* ======================
   ANIMATION LOOP
====================== */

function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene, camera);
}
animate();

</script>
</body>
</html>

